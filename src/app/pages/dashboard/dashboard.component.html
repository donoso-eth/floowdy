<div class="grid">
  <div class="col-12">
    <div style="position: relative; border-color: transparent" class="card">
      <!-- <h5>

        Dashboard
      </h5> -->

      <div style="margin-top: 20px" class="grid p-fluid"></div>

      <div class="col-12">

        <div style="margin-top: 20px" class="grid">
          <!-- //// Wrap-Unwrap -->
          <div class="col-12 lg:col-4 xl:col-4">
            <user-balance
              (refreshEvent)="refreshBalance()"
              (mintEvent)="mint()"
              *ngIf="poolToken !== undefined"
              [poolToken]="poolToken"
            ></user-balance>
          </div>

          <div class="col-12 lg:col-4 xl:col-4">
            <div
              style="background-color: var(--surface-ground)"
              class="card mb-0"
            >
              <div class="grid p-fluid justify-content-center">
                <div class="col-12 flex align-items-center">
                  <span class="block text-500 font-medium ml-2">
                    Your stream</span
                  >
                  <!-- #region REALTIME  ////  -->
                </div>
                <div class="col-12 text-center">
                  <div class="flex justify-content-between flex-column mb-3">
                    <div class="text-900 font-medium text-lg">
                      <span class="text-green-500">
                        <span style="font-size: 40px"> {{ twoDec }}</span
                        >{{ fourDec }}
                      </span>
                    </div>
                  </div>
                </div>

                <!-- #endregion REALTIME ////  -->

                <div class="col-12 flex justify-content-around">
                  <button
                    pButton
                    pRipple
                    style="position: relative; width: fit-content"
                    (click)="showStartFlow()"
                    type="button"
                    label="Stream-->"
                    class="p-button-rounded mr-2 mb-2"
                  ></button>
                </div>
              </div>
            </div>
          </div>

          <!-- //// Mint area -->
          <div class="col-12 lg:col-4 xl:col-4">
            <div
              style="background-color: var(--surface-ground)"
              class="card mb-0"
            >
              <div class="grid p-fluid justify-content-center">
                <div class="col-12 flex align-items-center">
                  <span class="block text-500 font-medium ml-2"> Deposit</span>
                  <!-- #region REALTIME  ////  -->
                </div>
                <div class="col-12 text-center">
                  <div class="flex justify-content-between flex-column mb-2">
                    <div class="text-900 font-medium text-lg">
                      <p-inputNumber
                        [formControl]="depositAmountCtrl"
                        placeholder="Amount"
                        mode="decimal"
                        [showButtons]="true"
                        [min]="0"
                      >
                      </p-inputNumber>
                    </div>
                  </div>
                </div>

                <!-- #endregion REALTIME ////  -->

                <div class="col-12 flex justify-content-around">
                  <button
                    pButton
                    pRipple
                    style="width: fit-content"
                    (click)="deposit()"
                    type="button"
                    label="Deposit"
                    class="p-button-rounded mr-2 mb-2"
                  ></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <p-tabView orientation="center">
          <p-tabPanel
            header="Your Credits"
            class="line-height-3 m-0 text-center"
          >
          <div *ngIf="member!= undefined && member.creditsRequested.length == 0">
            OOPS NO CREDITS
          </div>
          <button
          pButton
          pRipple
          style="
          margin: 20px auto;
            position: relative;
            width: fit-content;
            border-color: var(--orange-400);
            background-color: var(--yellow-200);
          "
          (click)="requestCredit()"
          type="button"
          label="Request Credit Delegation"
          class="p-button-rounded mt-3 mr-2 mb-2"
        ></button>
          <credit-table *ngIf="member!= undefined && member.creditsRequested.length > 0" [creditType]="'requested'" [credits]="member.creditsRequested"  ></credit-table>
      
       
          </p-tabPanel>
          <p-tabPanel header="Credits Delegated" class="line-height-3 m-0">
            <credit-table *ngIf="member!= undefined"  [creditType]="'delegated'" [credits]="member.creditsDelegated"  ></credit-table>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>
  </div>
</div>
